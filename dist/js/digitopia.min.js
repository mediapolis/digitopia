/*! digitopia 15-10-2019 */

var gResponsiveUniqueId=0,gResponsiveFlashEvents=!0;function GetJQueryPlugin(s,n){return function(e){return this.each(function(){var t=$(this);if(this.id||(this.id="DiGiToPiA-"+ ++gResponsiveUniqueId),!t.data(s)){t.addClass("DigitopiaInstance");try{var i=new n(this,e);t.data(s,i),i.stop&&t.on("DigitopiaStop",function(t){t.stopPropagation(),t.target===this&&i.stop()}),i.start&&window.setTimeout(function(){i.start(),$(".DigitopiaInstance").trigger("DigitopiaNewInstance",t)},0)}catch(t){alert("Could not initialize element:"+this.id+" jsclass:"+s+" error:"+t)}}})}}!function(o){o.fn.digitopiaController=GetJQueryPlugin("digitopiaController",function(t,i){this.element=o(t);var e=this;this.config=o.extend({geometry:void 0,lazy:void 0,ajax:void 0,hijax:void 0,parallax:void 0,coverResize:!1},i||{}),this.start=function(){this.config.geometry&&this.config.geometry.enabled&&(this.config.geometry.controller=this,setTimeout(function(){e.element.digitopiaGeometry(e.config.geometry)},0)),this.config.hijax&&this.config.hijax.enabled&&(this.config.hijax.controller=this,setTimeout(function(){e.element.digitopiaHijax(e.config.hijax)},0)),this.element.lazyInstantiate(),this.instantiateElements(),e.scrollTimer=void 0,o(window).scroll(function(){e.scrollTimer||(e.scrollTimer=setTimeout(function(){e.scrollTimer=void 0,o(".DigitopiaInstance").trigger("DigitopiaDidScroll")},250))}),e.resizeTimer=void 0,o("body").outerWidth(o(window).innerWidth()),o(window).resize(function(){e.resizeTimer?clearTimeout(e.resizeTimer):e.config.coverResize&&o("body").css({opacity:.3}),e.resizeTimer=setTimeout(function(){o("body").outerWidth(o(window).innerWidth()),e.resizeTimer=void 0,o(".DigitopiaInstance").trigger("DigitopiaDidResize"),e.config.coverResize&&o("body").css({opacity:1})},100)})},this.stop=function(){},this.instantiateElements=function(){var a=!1;o("*[data-jsclass]").each(function(){for(var t=o(this).data("jsclass").split(","),i=0;i<t.length;i++){var e=t[i];if(!o(this).data(e)){a=!0;var s=null;try{if(o(this)[e])o(this)[e]();else if(s=new window[e](this),o(this).data(e,s),s.start){var n=this;window.setTimeout(function(){s.start(),o(".DigitopiaInstance").trigger("DigitopiaNewInstance",n)},0)}}catch(t){alert("Could not initialize element:"+this.id+" jsclass:"+e+" error:"+t)}}}}),a&&o(".DigitopiaInstance").trigger("DigitopiaReady",this)},this.element.on("DigitopiaInstantiate",function(t){t.stopPropagation(),t.target===this&&(e.instantiateElements(),e.element.data("lazyInstantiate").watchScroll())})})}(jQuery),function(s){s.fn.lazyInstantiate=GetJQueryPlugin("lazyInstantiate",function(t,i){this.element=s(t);var e=this;this.start=function(){this.element.on("DigitopiaDidScroll",function(t){t.target===this&&e.watchScroll()}),e.watchScroll()},this.stop=function(){this.element.off("DigitopiaDidScroll")},this.watchScroll=function(){s(".lazy-instantiate:in-viewport").each(function(){if(s(this).is(":visible")){s(this).removeClass("lazy-instantiate");for(var t=s(this).data("lazy-jsclass").split(/,\s*/),i=0;i<t.length;i++)s(this)[t[i]]()}})}})}(jQuery),function(a){a.fn.digitopiaGeometry=GetJQueryPlugin("digitopiaGeometry",function(t,i){this.element=a(t);var s=this;this.orientation=void 0,this.scale=void 0,this.touch=Modernizr.touch,this.disabled=!1,this.forceScale=void 0,this.config=a.extend({breakpoints:[{className:"tiny",maxWidth:480},{className:"small",maxWidth:768},{className:"medium",maxWidth:980},{className:"large",maxWidth:1024},{className:"huge",maxWidth:void 0}],cookieDomain:void 0},i||{}),this.widths=[],this.classes=[],this.disableResponsive=function(t){a("body").addClass("disable-responsive"),this.disabled=!0,this.forceScale=t,this.detectGeometry()},this.enableResponsive=function(){a("body").removeClass("disable-responsive"),this.disabled=!1,this.forceScale="",this.detectGeometry()},this.start=function(){var t=".show-hide{display:none;}\n";this.widths.push(0);for(var i=0;i<this.config.breakpoints.length;i++)this.config.breakpoints[i].maxWidth&&this.widths.push(this.config.breakpoints[i].maxWidth),this.classes.push(this.config.breakpoints[i].className),t+="."+this.config.breakpoints[i].className+" .hidden-"+this.config.breakpoints[i].className+"{display:none;}\n",t+=".not-"+this.config.breakpoints[i].className+" .hidden-not-"+this.config.breakpoints[i].className+"{display:none;}\n",t+="."+this.config.breakpoints[i].className+" .shown-"+this.config.breakpoints[i].className+"{display:block;}\n",t+=".not-"+this.config.breakpoints[i].className+" .shown-not-"+this.config.breakpoints[i].className+"{display:block;}\n";var e=document.createElement("style");e.type="text/css",e.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(e),this.element.on("DigitopiaDidResize.digitopiaGeometry",function(t){t.stopPropagation(),t.target===this&&s.detectGeometry()}),this.detectGeometry(),this.element.on("DigitopiaNewInstance.digitopiaGeometry",function(t,i){t.stopPropagation(),t.target===this&&(a(i).trigger("DigitopiaScaleChanged",s.scale),a(i).trigger("DigitopiaOrientationChanged",s.orientation))})},this.stop=function(){this.element.off("DigitopiaDidResize.digitopiaGeometry"),this.element.off("DigitopiaNewInstance.digitopiaGeometry")},this.detectGeometry=function(){var t=this.orientation,i=this.classes[this.widths.length-1];if(t=a(window).width()<a(window).height()?"portrait":"landscape",this.disabled)i=this.forceScale;else for(var e=a(window).width(),s=0;s<this.widths.length-1;s++)if(e>=this.widths[s]&&e<this.widths[s+1]){i=this.classes[s];break}var n=0;if(i!==this.scale){++n;for(s=0;s<this.classes.length;s++)this.classes[s]!==i?(a("body").addClass("not-"+this.classes[s]),a("body").removeClass(this.classes[s]),a("body").removeClass("shown-"+this.classes[s]),a("body").removeClass("hidden-"+this.classes[s])):a("body").removeClass("not-"+this.classes[s]);a("body").addClass(i),a("body").addClass("shown-"+i),a("body").addClass("hidden-"+i),a(".DigitopiaInstance").trigger("DigitopiaScaleChanged",i)}this.scale=i,t!==this.orientation&&(++n,a("body").removeClass("portrait").removeClass("landscape"),a("body").addClass(t),a(".DigitopiaInstance").trigger("DigitopiaOrientationChanged",t)),this.orientation=t,n&&this.setHints()},this.setHints=function(){var t="";this.orientation&&(t&&(t+=" "),t+=this.orientation),this.scale&&(t&&(t+=" "),t+=this.scale),t!==this.getCookie("responsive")&&this.setCookie("responsive",t)},this.getCookie=function(t){return a.cookie(t)},this.setCookie=function(t,i,e){var s={path:"/",domain:this.config.cookieDomain,expires:e};a.cookie(t,i,s)},this.deleteCookie=function(t){this.setCookie(t,null)}})}(jQuery),function(g){g.fn.digitopiaViewport=GetJQueryPlugin("digitopiaViewport",function(t,i){this.element=g(t);var e=this;this.element.css({position:"relative",overflow:"hidden"}),this.settings=g.extend({crop:!!g(this.element).data("crop")&&g(this.element).data("crop"),align:g(this.element).data("align")?g(this.element).data("align"):"center",blowup:!!g(this.element).data("blowup")&&g(this.element).data("blowup"),trimHeight:!!g(this.element).data("trim-height")&&g(this.element).data("trim-height"),listenTo:!!g(this.element).data("listen-to")&&g(this.element).data("listen-to")},i||{}),this.align=this.settings.align?this.settings.align.split(","):[],this.height=this.element.height(),this.elements=g(this.element).children();for(var s=0;s<this.elements.length;s++)g(this.elements[s]).css({position:"absolute","max-width":"10000px"}),g(this.elements[s]).data("inViewPort",e);this.start=function(){if(this.element.on("DigitopiaScaleChanged."+this.id,function(t,i){t.stopPropagation(),t.target===this&&(e.settings.trimHeight||(e.height=e.element.height()),e.fitElements(i))}),this.settings.listenTo){var t=g(this.settings.listenTo).attr("id");this.element.on("digitopiaContainerDidResize"+t+"."+this.id,function(t){t.stopPropagation(),t.target===this&&e.fitElements()})}else this.element.on("DigitopiaDidResize."+this.id,function(t){t.stopPropagation(),t.target===this&&e.fitElements()});this.fitElements()},this.stop=function(){if(this.element.off("DigitopiaScaleChanged."+this.id),this.settings.listenTo){var t=g(this.settings.listenTo).attr("id");this.element.off("digitopiaContainerDidResize"+t+"."+this.id)}else this.element.off("DigitopiaDidResize."+this.id)},this.getAlign=function(t){this.align=this.settings.align?this.settings.align.split(","):[];for(var i=0;i<this.align.length;i++)if(this.align[i]===t)return!0;return!1},this.fitElements=function(){for(var t=0;t<this.elements.length;t++){var i=this.elements[t],e=g(i).data("width"),s=g(i).data("height"),n=g(this.element).width(),a=g(this.element).height();this.settings.trimHeight&&(a=this.height);var o=s/e,h=a/n,r=1;e*=r=this.settings.crop?o<h?a/s:n/e:h<o?a/s:n/e,s*=r,this.settings.blowup||(g(i).data("width")&&e>g(i).data("width")&&(e=g(i).data("width")),g(i).data("height")&&s>g(i).data("height")&&(s=g(i).data("height"))),this.settings.trimHeight&&(g(this.element).height(s),a=s);var l=(a-s)/2,c=(n-e)/2;this.getAlign("top")&&(l=0),this.getAlign("bottom")&&(l=a-s),this.getAlign("left")&&(c=0),this.getAlign("right")&&(c=n-e);var d={top:l+"px",left:c+"px",width:e+"px",height:s+"px"};g(i).css(d)}}})}(jQuery),function(s){s.fn.digitopiaLazy=GetJQueryPlugin("digitopiaLazy",function(t,i){this.element=s(t);var e=this;this.id=t.id,this.scale=void 0,this.loaded=!1,this.settings=s.extend({enabledScales:s(this.element).data("enabled-scales")?s(this.element).data("enabled-scales").split(","):[]},i||{}),this.start=function(){this.loaded||(s(this.element).addClass("responsive-loading"),this.element.on("DigitopiaScaleChanged."+this.id,function(t,i){t.stopPropagation(),t.target===this&&(e.scale=i,e.lazy())}),this.element.on("DigitopiaDidScroll."+this.id,function(t,i){t.stopPropagation(),t.target===this&&e.lazy()}),this.element.on("DigitopiaDidResize."+this.id,function(t,i){t.stopPropagation(),t.target===this&&e.lazy()}),this.element.on("DigitopiaLazy."+this.id,function(t,i){t.stopPropagation(),t.target===this&&e.lazy(i)}),this.lazy())},this.stop=function(){this.element.off("DigitopiaScaleChanged."+this.id),this.element.off("DigitopiaDidScroll."+this.id),this.element.off("DigitopiaDidResize."+this.id),this.element.off("DigitopiaLazy."+this.id)},this.want=function(){return!this.settings.enabledScales.length||!!this.scale&&-1!==this.settings.enabledScales.indexOf(this.scale)},this.lazy=function(t){!this.loaded&&this.want()&&(t||s.inviewport(this.element,{threshold:0})&&s(this.element).is(":visible"))&&(this.element.removeClass("responsive-loading"),this.element.trigger("digitopiaLazyLoad"),this.loaded=!0)}}),s.fn.digitopiaLazyImg=GetJQueryPlugin("digitopiaLazyImg",function(t,i){this.element=s(t);var e=this;this.id=t.id,this.loaded=!1,this.scale=void 0,this.loadedScale=void 0,this.start=function(){this.element.on("digitopiaLazyLoad."+this.id,function(t,i){t.stopPropagation(),e.lazy(i)}),this.element.on("DigitopiaScaleChanged."+this.id,function(t,i){t.stopPropagation(),e.scale=i,e.loaded&&e.loadedScale!=e.scale&&e.load()}),setTimeout(function(){e.element.digitopiaLazy()},0)},this.stop=function(){this.element.off("digitopiaLazyLoad."+this.id),this.element.off("DigitopiaScaleChanged."+this.id)},this.lazy=function(t){this.loaded||this.load()},this.load=function(t){var i=s(this.element).data("lazy-src");s(this.element).data("lazy-"+this.scale+"-src")&&(i=s(this.element).data("lazy-"+this.scale+"-src")),s(e.element).attr("src")!=i&&s(e.element).css({opacity:0}).attr("src",i).load(function(){if(this.complete&&void 0!==this.naturalWidth&&0!==this.naturalWidth){s(this).data("width",this.naturalWidth),s(this).data("height",this.naturalHeight),s(this).data("inViewPort")&&s(this).data("inViewPort").fitElements();var t=this;setTimeout(function(){s(t).animate({opacity:1},250)},0)}}).error(function(){}),this.loaded=!0,this.loadedScale=this.scale}})}(jQuery),function(n){n.fn.digitopiaContainer=GetJQueryPlugin("digitopiaContainer",function(t,i){this.element=n(t);var e=this;this.id=t.id,this.settings=n.extend({scales:this.element.data("scales")?this.element.data("scales").split(/\s*,\s*/):[],followElementWidth:this.element.data("follow-element-width"),followElementHeight:this.element.data("follow-element-height"),fillContainer:this.element.data("fill-container")},i||{}),this.active=void 0,this.settings.scales.length||(this.active=!0),this.origHeight=t.style.height,this.origWidth=t.style.width,this.lastHeight=void 0,this.lastWidth=void 0,this.listenTo={},this.following=0,this.settings.followElementWidth&&(++this.following,this.listenTo[n(this.settings.followElementWidth).attr("id")]=!0),this.settings.followElementHeight&&(++this.following,this.listenTo[n(this.settings.followElementHeight).attr("id")]=!0),this.settings.fillContainer&&(++this.following,"parent"===this.settings.fillContainer?(setTimeout(function(){e.element.parent().digitopiaContainer()},0),this.listenTo[this.element.parent().attr("id")]=!0):(setTimeout(function(){n(e.settings.fillContainer).digitopiaContainer()},0),this.listenTo[n(this.settings.fillContainer).attr("id")]=!0)),this.start=function(){if(this.element.on("DigitopiaScaleChanged."+this.id,function(t,i){t.stopPropagation(),t.target===this&&e.watchScale(i)}),this.following)for(var t in this.listenTo)this.element.on("digitopiaContainerDidResize"+t+"."+this.id,function(t){t.stopPropagation(),t.target===this&&e.handleResize()});else this.element.on("DigitopiaDidResize."+this.id,function(t){t.stopPropagation(),t.target===this&&e.handleResize()});this.handleResize()},this.stop=function(){if(this.element.off("DigitopiaScaleChanged."+this.id),this.following)for(var t in this.listenTo)this.element.off("digitopiaContainerDidResize"+t+"."+this.id);else this.element.off("DigitopiaDidResize."+this.id)},this.watchScale=function(t){this.active;if(this.settings.scales.length){this.active=!1;for(var i=0;i<this.settings.scales.length;i++)this.settings.scales[i]===t&&(this.active=!0)}else this.active=!0;this.active||this.element.css({width:this.origWidth?this.origWidth:"",height:this.origHeight?this.origHeight:""}),this.active,this.handleResize()},this.handleResize=function(){var t=!1,i=this.element.innerWidth(),e=this.element.innerHeight();if((this.active||void 0===this.active)&&(this.settings.followElementWidth&&i!=n(this.settings.followElementWidth).innerWidth()&&(++t,i=n(this.settings.followElementWidth).innerWidth(),this.element.outerWidth(i)),this.settings.followElementHeight&&e!=n(this.settings.followElementHeight).innerHeight())){++t;e=n(this.settings.followElementHeight).innerHeight();this.element.outerHeight(e)}if(this.settings.fillContainer){var s=void 0;i!=(s="parent"===this.settings.fillContainer?this.element.parent():n(this.settings.fillContainer)).innerWidth()&&(++t,i=s.innerWidth(),this.element.outerWidth(i)),e!=s.innerHeight()&&(++t,e=s.innerHeight(),this.element.outerHeight(e))}!t&&i==this.lastWidth&&e==this.lastHeight||(this.element.find(".DigitopiaInstance").trigger("digitopiaContainerDidResize"),n(".DigitopiaInstance").trigger("digitopiaContainerDidResize"+this.id),this.lastWidth=i,this.lastHeight=e)}})}(jQuery),function(s){s.fn.digitopiaAjax=GetJQueryPlugin("digitopiaAjax",function(t,i){this.element=s(t),this.id=t.id;var e=this;this.settings=s.extend({src:s(this.element).data("src")?s(this.element).data("src"):void 0,type:s(this.element).data("type")?s(this.element).data("type"):"html",inline:s(this.element).data("inline"),noLazy:!!s(this.element).data("no-lazy")&&s(this.element).data("no-lazy"),showLoading:!!s(this.element).data("show-loading")&&s(this.element).data("show-loading"),clientCache:!!s(this.element).data("client-cache")&&s(this.element).data("client-cache"),clientCacheKey:s(this.element).data("cache-key")?s(this.element).data("cache-key"):void 0,args:s(this.element).data("args")?JSON.parse(s(this.element).data("args")):{}},i||{}),this.loaded=!1,this.start=function(){this.settings.noLazy?this.ajaxLayer():(this.element.on("digitopiaLazyLoad."+this.id,function(t,i){t.stopPropagation(),t.target===this&&e.ajaxLayer()}),setTimeout(function(){e.element.digitopiaLazy(e.settings)},0))},this.stop=function(){this.settings.noLazy||this.element.off("digitopiaLazyLoad."+this.id)},this.reload=function(){this.loaded=!1,this.ajaxLayer(!0)},this.ajaxLayer=function(){if(!this.loaded){this.loaded=!0;var t=void 0;if(this.settings.clientCache){var i=this.id;this.settings.clientCacheKey&&(i+="-"+this.settings.clientCacheKey),t=this.isCached(this.settings.clientCache,i)}t?this.ready(t):(this.ajaxRequest(),this.settings.showLoading&&s(this.element).addClass("responsive-loading"))}},this.ajaxRequest=function(){var t=this.settings.src;"undefined"!=typeof rewriteUrls&&(t=rewriteUrls(t)),s.ajax({type:"GET",url:t+"?"+jQuery.param(this.settings.args),dataType:this.settings.type,success:function(t){if(e.settings.clientCache){var i=e.id;e.settings.clientCacheKey&&(i+="-"+e.settings.clientCacheKey),e.cacheIt(e.settings.clientCache,i,t)}e.ready(t)},error:function(t,i,e){t.responseText&&alert(t.responseText)}})},this.ready=function(t){this.element.removeClass("responsive-loading"),this.settings.inline&&(this.element.empty().append(t),s("body").data("digitopiaHijax")&&s("body").data("digitopiaHijax").hijaxLinks(this.element),s("body").trigger("DigitopiaInstantiate")),this.element.trigger("data",t)},this.cacheIt=function(t,i,e){"localStorage"===t?Modernizr.localstorage&&(localStorage[i]=JSON.stringify(e)):"sessionStorage"===t&&Modernizr.sessionstorage&&(sessionStorage[i]=JSON.stringify(e))},this.isCached=function(t,i){var e;return"localStorage"===t?Modernizr.localstorage&&(e=localStorage[i]):"sessionStorage"===t&&Modernizr.sessionstorage&&(e=sessionStorage[i]),null!=e&&(e=JSON.parse(e)),e}})}(jQuery),function(c){function e(t){return t.pathname+t.search}c.fn.digitopiaHijax=GetJQueryPlugin("digitopiaHijax",function(t,i){this.element=c(t);var l=this;this.currentPath=void 0,this.startTime=void 0,this.settings=c.extend({processOriginalPath:!1,locationHash:!1,popState:Modernizr.history,excludeRegex:new RegExp("^(//|http|javascript|mailto|#)"),contentHandlers:[],debounce:void 0,disableScrollAnimation:!1,scrollTop:0,nextScrollTop:0},i||{}),this.settings.processOriginalPath||(this.currentPath=e(document.location)),this.start=function(){this.hijaxLinks(this.element),this.settings.locationHash&&(c(window).bind("hashchange.hijax",function(){l.watchLocationHash()}),this.watchLocationHash()),this.settings.popState&&(c(window).bind("popstate.hijax",function(t){l.watchPopState(t)}),l.watchPopState()),c(this.element).on("DigitopiaReloadPage",function(t,i){t.stopPropagation(),t.target===this&&(l.settings.nextScrollTop=c(window).scrollTop(),l.hijaxLoad(l.currentPath,l.currentPath))}),c(this.element).on("DigitopiaLoadPage",function(t,i){t.stopPropagation(),t.target===this&&(l.settings.popState||l.settings.locationHash?i&&!l.settings.excludeRegex.exec(i)&&e(document.location)!==i&&(l.settings.locationHash?l.setLocationHash("hijax"+i):l.settings.popState&&(history.pushState(null,null,i),l.watchPopState())):document.location.href=i)})},this.stop=function(){c("a").unbind("click.hijax"),this.settings.popState&&c(window).unbind("popstate.hijax"),c(this.element).off("DigitopiaLoadPage"),c(this.element).off("DigitopiaReloadPage")},this.hijaxLoad=function(t,i){var e=!1;if("undefined"!=typeof rewriteUrls&&(t=rewriteUrls(t)),c(".DigitopiaInstance").trigger("DigitopiaWillLoadNewPage",[i,t]),this.settings.debounce&&(this.startTime=new Date),this.settings.contentHandlers.length)for(var s=0;s<this.settings.contentHandlers.length;s++){var n=t.match(this.settings.contentHandlers[s].path);if(n){var a=void 0;a=this.settings.contentHandlers[s].content?this.settings.contentHandlers[s].content:this.settings.contentHandlers[s].contentHandler(n),l.mergeContent(a),e=!0}}e||c.ajax({type:"GET",url:t,dataType:"html",headers:{"x-digitopia-hijax":"true"},success:function(t,i,e){if(e.getResponseHeader("x-digitopia-hijax-location")){var s=e.getResponseHeader("x-digitopia-hijax-location");l.settings.popState?(history.pushState(null,null,s),l.watchPopState()):document.location.href=s}else l.mergeContent(t)},error:function(t,i,e){t.responseText&&alert("could not load page.")}})},this.mergeContent=function(t){c(".DigitopiaInstance").trigger("DigitopiaDidLoadNewPageContent");var i,e,s=0;this.settings.debounce&&(s=(new Date).getTime()-this.startTime.getTime());if(this.settings.debounce&&s<l.settings.debounce)setTimeout((i=this,e=t,function(){i.mergeContent(e)}),l.settings.debounce-s);else{var n=this.settings.nextScrollTop;this.settings.disableScrollAnimation?c("html, body").scrollTop(n):c("html, body").animate({scrollTop:n},"250");var a=c("[data-hijax]");a.each(function(){var t=this.id;c("#"+t).find(".DigitopiaInstance").trigger("DigitopiaStop"),c("#"+t).trigger("DigitopiaStop")});var o=t.split(/(<body[^>]*>|<\/body>)/gi),h=c(o[2]);a.each(function(){var t=this.id,i="";(i=c(h).find("#"+t))&&0!==i.length||(i=c(h).filter("#"+t)),c("#"+t).empty().append(i.children())});var r=c(t).filter("title").text();document.title=r,this.contentMerged()}},this.contentMerged=function(){c("[data-hijax]").each(function(){var t=this.id;l.hijaxLinks("#"+t)}),c(".DigitopiaInstance").trigger("DigitopiaInstantiate"),c(".DigitopiaInstance").trigger("DigitopiaDidLoadNewPage",e(document.location))},this.hijaxLinks=function(t){c(t).find("a").unbind("click.hijax"),c(t).find("a").each(function(){var i=c(this).attr("href");!i||c(this).attr("target")||c(this).data("no-hijax")||l.settings.excludeRegex.exec(i)||c(this).bind("click.hijax",function(t){t.preventDefault(),c("body").trigger("DigitopiaLoadPage",i)})})},this.watchPopState=function(t){if((this.currentPath||void 0===this.currentPath&&this.settings.processOriginalPath)&&e(document.location)!=this.currentPath){var i=this.currentPath;this.currentPath=e(document.location),this.settings.nextScrollTop=this.settings.scrollTop,this.hijaxLoad(this.currentPath,i)}},this.setLocationHash=function(t){location.hash=t},this.watchLocationHash=function(){if(location.hash!=this.currentPath){var t=location.hash.split("/");if("#hijax"==t[0]){var i=this.currentPath;t.splice(0,1),this.currentPath="/"+t.join("/"),this.settings.nextScrollTop=this.settings.scrollTop,this.hijaxLoad(this.currentPath,i)}}}})}(jQuery),function(z){z.fn.wiggler=GetJQueryPlugin("wiggler",function(t,i){this.element=z(t),this.options=void 0,this.animation=i,this.pcnt=0,this.lastpcnt=0;var b=this,e=!(this.cached=!1);function C(t){e||requestAnimationFrame(t)}this.newAnimation=function(t){this.animation=t,this.cached=!1,this.prepare()},this.start=function(){this.prepare(),z(window).focus(function(){b.pcnt<1&&b.options&&(e=!1,C(function(){b.starts=Date.now()-b.options.duration*b.pcnt,C(function(){b.timer()})}))}),z(window).blur(function(){e=!0}),this.element.on("play",function(t,i){t.target==this&&(b.options=i,b.resume())}),this.element.on("pause",function(t,i){t.target==this&&(e=!0)}),this.element.on("scrub",function(t,i){t.target==this&&(b.options=i,b.pcnt=b.options.time/b.options.duration,b.pcnt=Math.round(1e4*b.pcnt)/1e4,b.pcnt!=b.lastpcnt&&(b.action(),b.lastpcnt=b.pcnt))})},this.stop=function(){e=!0,this.element.off("play"),this.element.off("pause"),this.element.off("scrub")},this.resume=function(){e=!1,C(function(){b.pcnt=0,b.cached=!1,b.prepare(),b.starts=Date.now(),C(function(){b.timer()})})},this.timer=function(){if(!e){var t=Date.now();this.pcnt=(t-this.starts)/this.options.duration,-1==this.options.direction&&(this.pcnt=1-this.pcnt),this.pcnt<0&&(this.pcnt=0),1<this.pcnt&&(this.pcnt=1),this.pcnt=Math.round(1e4*this.pcnt)/1e4,this.pcnt!=this.lastpcnt&&(this.action(),this.lastpcnt=this.pcnt),0<this.pcnt&&this.pcnt<1?C(function(){b.timer()}):(this.options.onComplete&&this.options.onComplete(),this.options.loop&&(this.options.direction=-1*this.options.direction,this.start()))}},this.action=function(){for(var t=0;t<this.animation.quelist.length;t++)this.performQue(this.animation.quelist[t])},this.prepare=function(){if(!this.cached){this.cached=!0;var t=/[\-+]?[\d]*\.?[\d]+/g;for(q=0;q<this.animation.quelist.length;q++){var i=this.animation.quelist[q];if(i.frame_in_progress=void 0,i.keyframes)for(var e=0;e<i.keyframes.length;e++)for(var s in i.keyframes[e].cached={},i.keyframes[e].css){i.keyframes[e].cached[s]={vals:[]};var n=i.keyframes[e].css[s].replace(t,function(t){return i.keyframes[e].cached[s].vals.push(+t),"{?}"});i.keyframes[e].cached[s].format=n}}}},this.doTrigger=function(t,i){e||(i.css&&z(t).css(i.css),i.callback&&i.callback.call())},this.performQue=function(t){if(t.triggers&&t.triggers.length)for(var i=0;i<t.triggers.length;i++){var e=t.triggers[i];-1==b.options.direction?this.pcnt<=e.percent/100&&(e.firedReverse||(e.firedReverse=!0,e.firedForward=!1,b.doTrigger(t.element,e.reverse))):this.pcnt>=e.percent/100&&(e.firedForward||(e.firedForward=!0,e.firedReverse=!1,b.doTrigger(t.element,e.forward)))}if(t.keyframes&&t.keyframes.length){var s=t.keyframes[0].percent/100,n=t.keyframes[t.keyframes.length-1].percent/100,a=(n-s)*this.options.duration,o=t.easing,h=void 0,r=void 0;if(this.pcnt>=s&&this.pcnt<=n){if(-1==b.options.direction)for(i=t.keyframes.length-1;1<=i;i--)this.pcnt<=t.keyframes[i].percent/100&&(h=i-1,r=i);else for(i=1;i<t.keyframes.length;i++)if(this.pcnt<=t.keyframes[i].percent/100){r=(h=i)-1;break}t.keyframes[h].easing&&(o=t.keyframes[h].easing);var l=(100*this.pcnt-t.keyframes[r].percent)/(t.keyframes[h].percent-t.keyframes[r].percent);l=Math.round(100*l)/100;var c={};for(var d in t.keyframes[r].css){for(var g=/\{\?\}/,p=t.keyframes[h].cached[d].format,f=0;f<t.keyframes[h].cached[d].vals.length;f++){var m=parseFloat(t.keyframes[r].cached[d].vals[f]),u=t.keyframes[h].cached[d].vals[f]-m,y=void 0;y=o?z.easing[o](l,l*a,m,u,a):m+u*l,p=p.replace(g,y)}c[d]=p}C((D=z(t.element),x=c,function(){D.css(x)}))}if(null!=t.frame_in_progress&&h!=t.frame_in_progress){c=t.keyframes[t.frame_in_progress].css;t.frame_in_progress=void 0,C((v=z(t.element),w=c,function(){v.css(w)}))}t.frame_in_progress=h}var v,w,D,x}})}(jQuery);